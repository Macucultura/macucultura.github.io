import{a as F}from"./chunk-2CHC4WFV.js";import{a as P}from"./chunk-PONQLUXJ.js";import{g as M,j as w}from"./chunk-MENC4C6K.js";import{Bb as i,Cb as s,Cc as x,Ic as T,Kb as D,Ob as v,Pb as O,Qb as C,T as g,Ub as m,Wb as d,_a as o,ac as b,da as c,kb as h,ob as p,ra as f,ua as u,ub as y,vb as l,wb as _}from"./chunk-3EBNQQKQ.js";var k=["cronogramaDay"],E=n=>["/macuco",n];function Q(n,t){if(n&1&&(i(0,"li",11),m(1),s()),n&2){let e=t.$implicit;o(),d(" ",e," ")}}function I(n,t){if(n&1&&(i(0,"div",7,0)(2,"h4",8),m(3),s(),i(4,"ul",9),p(5,Q,2,1,"li",10),s()()),n&2){let e=t.$implicit,a=D();_("is-past",a.isPastDay(e.date))("is-today",a.isToday(e.date)),y("data-date",a.dayTimestamp(e.date)),o(3),d(" Dia ",a.formatDate(e.date)," "),o(2),l("ngForOf",e.items)}}var S=class n{route=c(M);destroyRef=c(f);zone=c(u);eventYear=this.resolveYear(this.route.snapshot.paramMap.get("year"));today=this.startOfDay(new Date);hasScrolled=!1;cronogramaDays;year=String(this.eventYear);cronograma=[{date:this.startOfDay(new Date(this.eventYear,0,4)),items:["09hrs - Caminhada Ecol\xF3gica","09hrs \xE0s 16hrs - Oficina de Forro"]},{date:this.startOfDay(new Date(this.eventYear,0,5)),items:["09hrs \xE0s 16hrs - Forno de barro","09hrs \xE0s 16hrs - Oficina de audiovisual"]},{date:this.startOfDay(new Date(this.eventYear,0,6)),items:[""]},{date:this.startOfDay(new Date(this.eventYear,0,7)),items:["09rs \xE0s 16hrs - Oficina de Bolo de Trabisseiro","16hrs - Oficina de Forr\xF3 Moderno"]},{date:this.startOfDay(new Date(this.eventYear,0,8)),items:["09hrs \xE0s 16hrs - Oficina de Doces Quilombolas"]},{date:this.startOfDay(new Date(this.eventYear,0,9)),items:["09hrs \xE0s 16hrs - Oficina de Quitandas Quilombolas"]},{date:this.startOfDay(new Date(this.eventYear,0,10)),items:["09hrs \xE0s 16hrs - Oficina de Culin\xE1ria Quilombola"]}];isPastDay(t){return this.startOfDay(t).getTime()<this.today.getTime()}isToday(t){return this.startOfDay(t).getTime()===this.today.getTime()}ngAfterViewInit(){this.cronogramaDays?.changes.pipe(g(this.cronogramaDays),F(this.destroyRef)).subscribe(()=>this.scrollToTarget())}dayTimestamp(t){return this.startOfDay(t).getTime()}get scrollTargetTimestamp(){let t=this.cronograma.map(r=>({timestamp:this.dayTimestamp(r.date),date:this.startOfDay(r.date)})).sort((r,Y)=>r.date.getTime()-Y.date.getTime());if(t.length===0)return null;let e=t.find(r=>r.timestamp===this.today.getTime());return e?e.timestamp:(t.find(r=>r.timestamp>this.today.getTime())??t[t.length-1]).timestamp}formatDate(t){let e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0");return`${e}/${a}`}resolveYear(t){if(!t)return 2026;let a=Number.parseInt(t,10);return Number.isNaN(a)?2026:a}startOfDay(t){let e=new Date(t);return e.setHours(0,0,0,0),e}scrollToTarget(){if(this.hasScrolled)return;let t=this.scrollTargetTimestamp;if(t===null)return;let e=this.cronogramaDays?.toArray().find(a=>Number(a.nativeElement.dataset.date)===t);e&&(this.hasScrolled=!0,this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.nativeElement.scrollIntoView({behavior:"smooth",block:"center"})})}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=h({type:n,selectors:[["app-cronograma"]],viewQuery:function(e,a){if(e&1&&v(k,5),e&2){let r;O(r=C())&&(a.cronogramaDays=r)}},decls:8,vars:5,consts:[["cronogramaDay",""],["id","cronograma",1,"cronograma","wrapper"],[1,"back",3,"routerLink"],[1,"director__title"],["appTitle",""],[1,"cronograma__list"],["class","cronograma__day",3,"is-past","is-today",4,"ngFor","ngForOf"],[1,"cronograma__day"],["appTitle","",1,"cronograma__date"],[1,"cronograma__items"],["class","cronograma__item",4,"ngFor","ngForOf"],[1,"cronograma__item"]],template:function(e,a){e&1&&(i(0,"div",1)(1,"a",2),m(2),s(),i(3,"div",3)(4,"h1",4),m(5,"Cronograma"),s()(),i(6,"div",5),p(7,I,6,7,"div",6),s()()),e&2&&(o(),l("routerLink",b(3,E,a.year)),o(),d(" Voltar para MacuCultura ",a.year," "),o(5),l("ngForOf",a.cronograma))},dependencies:[T,x,P,w],styles:['@charset "UTF-8";.cronograma[_ngcontent-%COMP%]{padding:24px;margin:12px 0;background-color:#fff;border-radius:15px}.cronograma__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.cronograma__day[_ngcontent-%COMP%]{padding:16px;border-radius:12px;background-color:#f7f4ef}.cronograma__day.is-past[_ngcontent-%COMP%]{background-color:#eee;color:#9c9c9c}.cronograma__day.is-past[_ngcontent-%COMP%]   .cronograma__item[_ngcontent-%COMP%]:before{color:#bfbfbf}.cronograma__date[_ngcontent-%COMP%]{margin-bottom:8px!important}.cronograma__items[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}.cronograma__item[_ngcontent-%COMP%]{font-size:18px;display:flex;align-items:center;gap:8px}.cronograma__item[_ngcontent-%COMP%]:before{content:"\\2014";color:#b14706;font-weight:600}.back[_ngcontent-%COMP%]{color:#b14706;font-weight:600;text-decoration:underline;font-size:14px;text-transform:uppercase;letter-spacing:.08em}.wrapper[_ngcontent-%COMP%]{gap:20px;display:flex;flex-direction:column}.director__title[_ngcontent-%COMP%]{padding:8px 0}.director__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .director__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}']})};export{S as CronogramaComponent};
